@{
	ViewBag.Title = "Добро пожаловать!";
}

<div class="jumbotron">
	<h1>Умный дом &mdash; это просто</h1>
	<p class="lead">
		ThinkingHome &mdash; это система управления вашим домом.
	</p>
	<p>
		<a id="btn-download" class="btn btn-lg btn-outline-inverse" href="#" role="button">
			Скачать
		</a>
		<a id="btn-view-source" class="btn btn-lg btn-outline-inverse" href="https://github.com/dima117/thinking-home" target="_blank">
			Исходный код на GitHub
		</a>
	</p>
</div>

<div class="row">
	<div class="col-md-12">
		<h1>Управление домом по сценариям</h1>
		<p>
			Система позволяет управлять домом по сценариям, т.е. назначать на различные события
			в доме произвольную логику по управлению домашними устройствами. Событие
			- это срабатывание датчика, сигнал с таймера, нажатие на кнопку или, например, получение
			сообщения в твиттере. При возникновении события запускаются сценарии - небольшие
			программы которые могут управлять домашними устройствами. Например, сценарий может
			проверить температуру в доме и включить теплый пол, если нужно.
		</p>
		<h2>Как это работает?</h2>
		<p>
			Система - это windows service (.NET), который постоянно запущен на компьютере. Он занимается
			обработкой событий и выполнением сценариев. Вы можете работать с сервисом через веб-интерфейс:
			просматривать информацию (например, прогноз погоды или расписание электричек), отправлять команды
			(например, выключить свет) или изменять настройки (например, редактировать сценарии).
		</p>
		<p>
			<img style="margin: 40px auto;" class="img-responsive" src="~/Content/img/scheme.png"
				 alt="Thinking-Home.System - управление домом по сценариям" />
		</p>
		<p>
			Сервис имеет систему плагинов. При помощи плагинов можно расширять список возможных
			событий в системе (например, генерировать событие при срабатывании датчика движения)
			и взаимодействовать с любыми устройствами (например, с системой noolite) или сервисами
			(например, с сервером электронной почты).
		</p>
		<p>
			По большому счету, весь функционал системы находится в плагинах, а сервис содержит
			только инфраструктуру для их работы. Он обеспечивает загрузку плагинов и организует
			их жизненный цикл, а также предоставляет им средства для логирования, для работы
			с внутренней БД, для взаимодействия друг с другом (плагины могут подписываться на
			события друг друга и вызывать команды друг друга).
		</p>
	</div>
</div>

<script>

	addListener(document.getElementById('btn-download'), 'click', function () {
		ga('send', 'event', 'btn-download', 'click');
	});

	addListener(document.getElementById('btn-view-source'), 'click', function () {
		ga('send', 'event', 'btn-view-source', 'click');
	});
</script>
